<Window x:Class="ProjectStructureExporter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Project Structure Exporter"
        Height="700" Width="1100"
        WindowStartupLocation="CenterScreen"
        Icon="/kolo-emocji.png"
        Background="#1e1e1e">
    <DockPanel>

        <!-- Toolbar -->
        <ToolBar DockPanel.Dock="Top" Background="#2d2d2d" Foreground="#f0f0f0">
            <TextBlock Text=" Project: " VerticalAlignment="Center" Margin="4,0,4,0" Foreground="#FF8C8C8C"/>

            <!-- Path history combo -->
            <ComboBox x:Name="PathHistoryCombo"
                      Width="520"
                      IsEditable="True"
                      IsTextSearchEnabled="True"
                      StaysOpenOnEdit="False"
                      MaxDropDownHeight="280"
                      ToolTip="Select previously scanned directory or type a new one"
                      VerticalContentAlignment="Center"
                      Margin="0,0,8,0"
                      />

            <Button Content="Choose Folder" Click="SelectFolder_Click" Margin="0,0,8,0" Padding="10,4" Foreground="#f0f0f0"/>
            <Button Content="Scan" Click="Scan_Click" Margin="0,0,8,0" Padding="10,4" Foreground="#FFFAFF92"/>
            <Button Content="Scan NoBodies" Click="ScanNoBodies_Click" Margin="0,0,8,0" Padding="10,4" Foreground="#FFB0FFA6"/>
            <Button Content="Scan Mini" Click="ScanMini_Click" Margin="0,0,8,0" Padding="10,4" Foreground="#FFFFD48A"/>
            <Button Content="Save TXT" Click="Save_Click" Margin="0,0,8,0" Padding="10,4" Foreground="#FF92BCFF"/>
            <Button Content="CopyAll" Click="Copy_Click" Padding="10,4" Foreground="#FF92BCFF"/>
        </ToolBar>

        <!-- Main output area -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition Height="28"/>
            </Grid.RowDefinitions>

            <!-- Editable TextBox with context menu -->
            <TextBox x:Name="OutputTextBox"
                     Grid.Row="0"
                     Margin="6"
                     Background="#1e1e1e"
                     Foreground="#dcdcdc"
                     BorderBrush="#3a3a3a"
                     FontFamily="Consolas"
                     FontSize="14"
                     AcceptsReturn="True"
                     AcceptsTab="True"
                     TextWrapping="NoWrap"
                     HorizontalScrollBarVisibility="Auto"
                     VerticalScrollBarVisibility="Auto"
                     SpellCheck.IsEnabled="False">
                <TextBox.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Undo" Command="ApplicationCommands.Undo" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <MenuItem Header="Redo" Command="ApplicationCommands.Redo" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <Separator/>
                        <MenuItem Header="Cut" Command="ApplicationCommands.Cut" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <MenuItem Header="Copy" Command="ApplicationCommands.Copy" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <MenuItem Header="Paste" Command="ApplicationCommands.Paste" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <MenuItem Header="Delete" Command="ApplicationCommands.Delete" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                        <Separator/>
                        <MenuItem Header="Select All" Command="ApplicationCommands.SelectAll" CommandTarget="{Binding ElementName=OutputTextBox}"/>
                    </ContextMenu>
                </TextBox.ContextMenu>
            </TextBox>

            <!-- Status bar -->
            <StatusBar Grid.Row="1" Background="#2d2d2d" Foreground="#e6e6e6">
                <StatusBarItem>
                    <TextBlock x:Name="StatusLabel" Text="Ready."/>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </DockPanel>
</Window>
